# 1 整数类型
- TINYINT：1 字节。
- SMALLINT：2 字节。
- MEDIUMINT：3 字节。
- INT（INTEGER）：4 字节。
- BIGINT：8 字节。

默认情况下整数是有符号的，也可以指定为无符号，只要在类型后加上 **UNSIGNED**，比如 INT UNSIGNED。<br />另外，类似 INT(5) 的写法，它只是指定显示宽度，不影响实际所能保存的数据大小，也就是一些 MySQL 的交互工具会根据它显示指定个数的字符，基本上没有什么意义，而且经测试，在 Windows 命令行和 Navicat 中都没有用。
# 2 小数类型

- FLOAT(M,N)：
   - 4 字节。
   - M 表示总位数，N 表示小数位数，则整数位数为 M-N，并且 M >= N。比如 FLOAT(5, 3)，它的总位数为 5，小数位数为 3，那么它的取值范围就是 -99.999~99.999，小数位数超过 N 则四舍五入，整数位数超过 M-N 则报错。
   - M 的取值范围为 0~255，N 的取值范围为 0~30。
   - FLOAT 是不精确存储的。
- DOUBLE(M,N)：
   - 8 字节。
   - M 的取值范围为 0~255，N 的取值范围为 0~30。
   - DOUBLE 能够表示的范围最大，并且是不精确存储的。
- DECIMAL(M,N)：
   - 大小不固定。
   - M 的取值范围为 0~65，N 的取值范围为 0~30。
   - DECIMAL 能够表示的范围最小，但是它是精确存储的，也因此当表示相同大小的数据时需要占用更大的空间，当对精度要求比较高的时候（如货币、科学数据），使用 DECIMAL。
# 3 字符串类型

- CHAR(N)：
   - 最多保存 N 个**字符**，如果实际插入的列值小于 N 个字符，在尾部以空格填充以达到 N 个字符（称为定长字符串）。
   - 无论使用何种字符集，N 的取值范围都为 0~255。
- VARCHAR(N)：
   - 最多保存 N 个**字符**，实际插入的列值为多少个字符，那么占用多少个字符的空间（称为变长字符串）。
   - N 的取值范围取决于使用的字符集，总之大小不能超过 65535 字节。
   - 对于 utf8mb4 字符集，N 的取值范围是 0~16383。
- TINYTEXT：变长字符串，最多保存 255 个**字节**。
- TEXT：变长字符串，最多保存 65535 个**字节**。
- MEDIUMTEXT：变长字符串，最多保存 16777215 个**字节**。
- LONGTEXT：变长字符串，最多保存 4295967295 个**字节**。

注意，对于以上类型，在 WHERE 条件中使用时尾部的空格都会被忽略：
```sql
CREATE TABLE `user` (
	`name` VARCHAR(5)
);
INSERT INTO `user` VALUES("abc");

SELECT * FROM `user` WHERE `name`="abc  "; -- 尾部的空格会被忽略，因此会查询到上面插入的那条记录
```
字符串类型的存储受 MySQL 中一些编码规则的影响，详见“MySQL 进阶-字符编码和排序规则”。
# 4 二进制类型
客户端与 MySQL 服务器之间发送的数据其实就是一个字节串：

- 对于字符串类型，根据 MySQL 中配置的一些编码规则，实际保存的可能不是原始的字节串，详见“MySQL 进阶-字符编码和排序规则”。
- 而对于二进制类型，MySQL 接收数据时会保存原始的字节串，返回数据时也返回原始的字节串。

MySQL 中二进制类型有：

- BIT(N)：存储 N 个二进制位，N 的取值范围为 0~64。
- BINARY(N)：
   - 定长字符串，最多存储 N 个字节，如果实际插入的列值小于 N 个字节，则在字符串尾部以 '\0' 填充以达到 N 个字节，但注意在查询时，并不会忽略尾部的 '\0'。
   - N 的取值范围为 0~255。
- VARBINARY(N)：
   - 变长字符串，最多存储 N 个字节。
   - N 的取值范围为 0~65535。
- TINYBLOB：变长字符串，最多保存 255 个字节。
- BLOB：变长字符串，最多保存 65535 个字节。
- MEDIUMBLOB：变长字符串，最多保存 16777215 个字节。
- LONGBLOB：变长字符串，最多保存 4295967295 个字节。
# 5 ENUM 和 SET 类型
## 5.1 ENUM 类型

1. 需要在定义字段时定义一组可选值（字符串），添加数据时，只能从这些值中选一个，如果字段没有声明 NOT NULL 约束，也可插入 NULL。
2. ENUM 最多可以有 65535 个元素。
3. 当创建表时，枚举元素尾部的空格将被自动删除。
4. ENUM 列总有一个默认值，如果 ENUM 列的约束为 NULL，则默认值为 NULL；如果约束为 NOT NULL，则默认值为第一个枚举元素。
```sql
CREATE TABLE test_enum(
	season ENUM('春','夏','秋','冬')
);

INSERT INTO test_enum VALUES('春'), ('秋');
```
跟字符串类型一样，在 WHERE 条件中使用时字符串尾部的空格会被忽略。
## 5.2 SET 类型。

1. 与 ENUM 类似，需要在定义字段的时候定义一组可选值（字符串），添加数据时，可以从中选多个值，如果字段没有声明 NOT NULL 约束，也可以插入 NULL。
2. SET 最多可以有 64 个元素。
3. 当创建表时，SET 元素尾部的空格将被自动删除。
4. 如果插入 SET 列的值中有重复的元素，则 MySQL 自动删除重复的元素，只保留一个。
```sql
CREATE TABLE test_set(
	season SET('春','夏','秋','冬')
);

INSERT INTO test_set VALUES('春,夏'), ('秋,冬'); -- ''内不要加空格，会被当作值的一部分
```
跟字符串类型一样，在 WHERE 条件中使用时字符串尾部的空格会被忽略。
# 6 日期和时间类型
![批注 2023-09-16 160905.png](<../images/9 MySQL 基础-数据类型/1.png>)

1. YEAR：用于表示年份，格式有 "YYYY"、YYYY。
2. TIME：用于表示时间或时间间隔。
   1. "D HH:MM:SS"：D 表示日，可以取 0～34 之间的值，会被转换成小时保存，计算方式为 D*24+HH，最大的取值为 "34 22:59:59"。
   2. 其他格式有："HH:MM:SS"、"HH:MM"、"D HH"、"SS"。
3. DATE：用于表示日期，格式有："YYYY-MM-DD"、"YYYYMMDD"。
4. DATETIME：用于表示日期和时间，格式有："YYYY-MM-DD HH:MM:SS"、"YYYYMMDDHHMMSS"。
5. TIMESTAMP：跟 DATETIME 类似，区别在于：
   1. DATETIME 按实际输入的格式存储，即输入什么就存储什么，与时区无关。
   2. TIMESTAMP 是以 UTC 格式保存的，即将输入的时间视为当前系统时区的时间，然后将其转换为 UTC 时区存储，查询时再将其转换回系统当前时区。也就是说在查询时，根据当前时区的不同，返回的值是不同的（如果更换了时区，需要重启 MySQL 才能生效）。

另外，MySQL 中还可以使用 CURRENT_DATE、CURRENT_TIME、CURRENT_TIMESTAMP、NOW() 来获取当前系统的时间、日期，并作为相应类型的列值。<br />注意，MySQL 允许“不严格”语法：任何标点符号都可用作日期部分或时间部分之间的间隔符。例如，'1998-12-31 11：30：45'、'1998.12.31 11+30+35'、'98/12/31 11*30*45' 等等都是可以的。
# 7 数据类型选择原则

1. 选更小的：使用可以正确存储数据的最小数据类型。
2. 选简单的：简单数据类型的操作通常需要更少的 CPU 周期。例如，整型比字符操作代价更低，因为字符集和校对规则（排序规则）使字符比较比整型比较更复杂。
3. 避免 NULL：列尽量定义为 NOT NULL，如果查询中包含可为 NULL 的列，对 MySQL 来说更难优化，因为可为 NULL 的列使得索引、索引统计和值比较都更复杂，并且可为 NULL 的列会使用更多的存储空间。不过将可为 NULL 的列修改为 NOT NULL 的提升较小，调优时不必要首先考虑这种情况。

